<script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "LocalBusiness",
    "name": "{% if companyInformation.companyName is defined and companyInformation.companyName|length%}{{ companyInformation.companyName }}{% elseif siteName %}{{ siteName }}{% endif %}",
    {% if companyInformation.companyDescription is defined and companyInformation.companyDescription|length %}
        "description": "{{ companyInformation.companyDescription }}",
    {% else %}
        {# use the homepage meta description if none set #}
        {% if craft.entries.id(12).first %}
            {% if craft.entries.id(12).first().metaDescription|length %}
                "description": "{{ craft.entries.id(12).first().metaDescription }}",
            {% endif %}
        {% endif %}
    {% endif %}
    {% if companyInformation.telephone is defined and companyInformation.telephone|length %}"telephone": "{{ companyInformation.telephone }}",{% endif %}
    {% if companyInformation.faxNumber is defined and companyInformation.faxNumber|length %}"faxNumber": "{{ companyInformation.faxNumber }}",{% endif %}
    {% if companyInformation.email is defined and companyInformation.email|length %}"email": "{{ companyInformation.email }}",{% endif %}

    {# logo #}
    {% if companyInformation.logo.first() is defined and companyInformation.logo.first()|length %}
        "logo":"{{ companyInformation.logo.first().url }}",
    {% elseif craft.rebrand.isLogoUploaded %}
        "logo": "{{ craft.rebrand.logo.url }}",
    {% endif %}

    {# photo #}
    {% if companyInformation.photo.first() is defined and companyInformation.photo.first()|length %}
        "photo":"{{ companyInformation.photo.first().url }}",
    {% endif %}

    {% if siteUrl %}"url": "{{ siteUrl }}",{% endif %}

    "address": {
        "@type": "PostalAddress",

            {% if companyInformation.streetAddress is defined and companyInformation.streetAddress|length %}
                "streetAddress": "{{ companyInformation.streetAddress }}",
            {% endif %}
            {% if companyInformation.addressLocality is defined and companyInformation.addressLocality|length %}
                "addressLocality": "{{ companyInformation.addressLocality }}",
            {% endif %}
            {% if companyInformation.addressRegion is defined and companyInformation.addressRegion|length %}
                "addressRegion": "{{ companyInformation.addressRegion }}",
            {% endif %}
            {% if companyInformation.postalCode is defined and companyInformation.postalCode|length %}
                "postalCode": "{{ companyInformation.postalCode }}",
            {% endif %}
            {% if companyInformation.addressCountry is defined and companyInformation.addressCountry|length %}
                "addressCountry": "{{ companyInformation.addressCountry }}"
            {% endif %}

    },

    {% if companyInformation.vatNumber is defined and companyInformation.vatNumber|length %}
        "vatID": "{{ companyInformation.vatNumber }}",
    {% endif %}

    {% if companyInformation.addressCoordinatesLongitude is defined and companyInformation.addressCoordinatesLongitude|length
        and companyInformation.addressCoordinatesLatitude is defined and companyInformation.addressCoordinatesLatitude|length %}
        "geo": {
            "@type": "GeoCoordinates",
            "longitude": "{{ companyInformation.addressCoordinatesLongitude }}",
            "latitude": "{{ companyInformation.addressCoordinatesLatitude }}"
        },
    {% endif %}
    {% if companyInformation.openingHours.first() %}
        "openingHours": [
            {% for hours in companyInformation.openingHours %}
                "{{ hours.rangeOfOpeningHours }}"{% if not loop.last %},{% endif %}
            {% endfor %}
        ]
    {% endif %}
}
</script>
